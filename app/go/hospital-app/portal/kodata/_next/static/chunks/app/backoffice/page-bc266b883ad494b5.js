(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[280],{1001:function(e,t,n){Promise.resolve().then(n.bind(n,6991))},6991:function(e,t,n){"use strict";let a;n.r(t),n.d(t,{default:function(){return Backoffice}});var s=n(7437),i=n(2013),o=n.n(i),c=n(2265),l=n(128),d=n(3754),p=n.n(d),proposalitem=function(e){let{title:t,author:n,id:a,status:i,approved:o,email:c,description:d,actionHandler:h}=e,handleAction=(e,t,n)=>{h(t,e,n)};return(0,s.jsxs)("div",{className:"".concat(p().ProposalItem,"  ").concat("PENDING"===i?p().pending:"","   ").concat("DECIDED"===i?p().decided:"","  ").concat("REJECT"===i?p().rejected:"","   ").concat("APPROVE"===i?p().approved:"","  ").concat("ARCHIVED"===i?p().archived:""),children:[(0,s.jsxs)("div",{className:"ProposalItem__header",children:[(0,s.jsx)("h4",{children:t}),(0,s.jsxs)("div",{children:[n," ",c]}),(0,s.jsx)("div",{className:p().status,children:i})]}),(0,s.jsx)("div",{className:p().description,children:(0,s.jsx)("p",{className:"p --s",children:d})}),!1,i&&"PENDING"===i&&(0,s.jsxs)("div",{className:p().actions,children:[(0,s.jsx)("div",{children:(0,s.jsx)(l.default,{clickHandler:()=>handleAction(a,i,"APPROVE"),children:"Approve"})}),(0,s.jsx)("div",{children:(0,s.jsx)(l.default,{clickHandler:()=>handleAction(a,i,"REJECT"),children:"Reject"})}),(0,s.jsx)("div",{children:(0,s.jsx)(l.default,{clickHandler:()=>handleAction(a,i,"ARCHIVE"),children:"Archive"})})]}),i&&"DECIDED"===i&&(0,s.jsxs)("div",{className:p().actions,children:[!0===o&&(0,s.jsx)("div",{className:"".concat(p().statusTag,"  ").concat(p().approved),children:"Approved"}),!1===o&&(0,s.jsx)("div",{className:"".concat(p().statusTag,"  ").concat(p().rejected),children:"Rejected"}),(0,s.jsx)("div",{children:(0,s.jsx)(l.default,{clickHandler:()=>handleAction(a,i,"ARCHIVE"),children:"Archive"})})]}),i&&"ARCHIVED"===i&&(0,s.jsx)("div",{className:p().actions,children:(0,s.jsx)("div",{className:"ProposalItem__badge --approved",children:"Archived"})})]})},proposallist=function(){let[e,t]=(0,c.useState)(!1),[n,a]=(0,c.useState)(!1),[i,o]=(0,c.useState)("PENDING"),[l,d]=(0,c.useState)([]),handleApproval=(e,n)=>{t(!0),a(!1),console.log("Decision Made ..."),fetch("/api/c4p/proposals/"+e+"/decide/",{method:"POST",body:JSON.stringify({approved:n}),headers:{accept:"application/json"}}).then(e=>e.json()).then(e=>{var n="?status="+i;""==i&&(n=""),fetchData(n),t(!1)}).catch(e=>{t(!1),a(!0)})},handleArchive=e=>{t(!0),a(!1),console.log("Archiving Proposal ..."+e),fetch("/api/c4p/proposals/"+e,{method:"DELETE",headers:{accept:"application/json"}}).then(e=>e.json()).then(()=>{var e="?status="+i;""==i&&(e=""),fetchData(e),t(!1)}).catch(e=>{console.log(e),t(!1),a(!0)})};function ItemAction(e,t,n){console.log("status: "+e+" - id: "+t+" - action: "+n),"PENDING"==e&&("APPROVE"==n?handleApproval(t,!0):handleApproval(t,!1)),"ARCHIVE"==n&&handleArchive(t)}let fetchData=e=>{console.log("Fetching Proposals ... ("+e+")."),fetch("/api/c4p/proposals/"+e).then(e=>e.json()).then(e=>{d(e),t(!1)}).catch(e=>{console.log(e)})};return(0,c.useEffect)(()=>{t(!0);var e="?status="+i;""==i&&(e=""),fetchData(e)},[i]),(0,s.jsxs)("div",{className:p().ProposalList,children:[(0,s.jsx)("div",{className:p().ProposalList_Filters,children:(0,s.jsxs)("div",{className:p().container,children:[(0,s.jsx)("div",{className:p().filterLabel,children:"Filter By: "}),(0,s.jsx)("div",{className:"".concat(""==i?p().inactive:p().active,"  ").concat(p().filter),onClick:()=>void o(""),children:"All"}),(0,s.jsx)("div",{className:"".concat("PENDING"==i?p().inactive:p().active,"   ").concat(p().filter),onClick:()=>void o("PENDING"),children:"Pending"}),(0,s.jsx)("div",{className:"".concat("DECIDED"==i?p().inactive:p().active,"   ").concat(p().filter),onClick:()=>void o("DECIDED"),children:"Decided"}),(0,s.jsx)("div",{className:"".concat("ARCHIVED"==i?p().inactive:p().active,"   ").concat(p().filter),onClick:()=>void o("ARCHIVED"),children:"Archived"})]})}),(0,s.jsxs)("div",{className:p().ProposalList_Items,children:[l&&l.map((e,t)=>(0,s.jsx)(proposalitem,{id:e.id,title:e.title,author:e.author,description:e.description,email:e.email,approved:e.approved,status:e.status.status,actionHandler:ItemAction},e.id)),l&&0===l.length&&"PENDING"===i&&(0,s.jsx)("span",{children:"There are no pending proposals."}),l&&0===l.length&&"DECIDED"===i&&(0,s.jsx)("span",{children:"There are no decided proposals."}),l&&0===l.length&&!1===i&&(0,s.jsx)("span",{children:"There are no proposals."})]})]})},h=n(7558),u=n.n(h),notificationitem=function(e){let{id:t,title:n,emailTo:a,emailSubject:i,emailBody:o,approved:l}=e,[d,p]=(0,c.useState)(!1),handleOpen=()=>{d?p(!1):p(!0)};return(0,s.jsxs)("div",{onClick:()=>handleOpen(),className:"".concat(u().NotificationItem,"  ").concat(d?u().open:" "," "),children:[(0,s.jsxs)("div",{className:u().openTag,children:[!d&&(0,s.jsx)(s.Fragment,{children:"Click for details"}),d&&(0,s.jsx)(s.Fragment,{children:"Close"})]}),(0,s.jsxs)("div",{className:u().header,children:[(0,s.jsxs)("h5",{children:[" ",(0,s.jsx)("span",{children:"Proposal:"})," ",n]}),(0,s.jsxs)("div",{className:u().headerStatus,children:[l&&(0,s.jsx)("div",{className:"".concat(u().headerStatusTag,"  ").concat(u().approved," "),children:"Approved"}),!l&&(0,s.jsx)("div",{className:"".concat(u().headerStatusTag,"  ").concat(u().rejected," "),children:"Rejected"})]})]}),(0,s.jsxs)("div",{className:u().description,children:[(0,s.jsxs)("div",{className:u().descriptionTo,children:[(0,s.jsx)("span",{children:"To:"})," ",a]}),(0,s.jsxs)("div",{className:u().descriptionSubject,children:[(0,s.jsx)("span",{children:" Subject:"})," ",i]}),(0,s.jsx)("div",{className:u().descriptionBody,children:(0,s.jsx)("p",{children:o})})]})]})},notificationlist=function(){let[e,t]=(0,c.useState)(!1),[n,a]=(0,c.useState)(!1),[i,o]=(0,c.useState)([]),[l,d]=(0,c.useState)(0),fetchData=()=>{fetch("/api/notifications/notifications/").then(e=>e.json()).then(e=>{console.log("Fetching Notifications ..."),o(e),t(!1)}).catch(e=>{console.log(e)})};return(0,c.useEffect)(()=>{let e=setInterval(()=>{t(!0),fetchData()},3e3);return()=>clearInterval(e)},[l]),(0,c.useEffect)(()=>{t(!0),fetchData()},[]),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:u().NotificationList,children:[i&&i.map((e,t)=>(0,s.jsx)(notificationitem,{id:e.id,title:e.title,emailTo:e.emailTo,emailBody:e.emailBody,emailSubject:e.emailSubject,approved:e.accepted},e.id)),i&&0===i.length&&(0,s.jsx)("span",{children:"There are no notifications."})]})})},f=n(582),m=n.n(f),_=n(3604),v=n.n(_),eventitem=function(e){let{id:t,type:n,payload:a}=e,[i,o]=(0,c.useState)(!1),handleOpen=()=>{i?o(!1):o(!0)};return(0,s.jsxs)("div",{onClick:()=>handleOpen(),className:"".concat(m().EventItem,"  ").concat(i?m().open:" "," "),children:[(0,s.jsxs)("div",{className:m().openTag,children:[!i&&(0,s.jsx)(s.Fragment,{children:"Click for details"}),i&&(0,s.jsx)(s.Fragment,{children:"Close"})]}),(0,s.jsx)("div",{className:m().header,children:(0,s.jsxs)("h5",{children:[(0,s.jsxs)("span",{children:["#",t]}),"  ",n]})}),(0,s.jsx)("div",{className:m().description,children:(0,s.jsx)("div",{className:m().codeContainer,children:(0,s.jsx)(v(),{id:"json-pretty",data:a})})})]})},eventlist=function(){let[e,t]=(0,c.useState)(!1),[n,a]=(0,c.useState)(!1),[i,o]=(0,c.useState)([]),[l,d]=(0,c.useState)(0),fetchData=()=>{fetch("/api/events/").then(e=>e.json()).then(e=>{console.log("Fetching Events ..."),o(e),t(!1)}).catch(e=>{console.log(e)})};return(0,c.useEffect)(()=>{t(!0),fetchData()},[]),(0,c.useEffect)(()=>{let e=setInterval(()=>{t(!0),fetchData()},3e3);return()=>clearInterval(e)},[l]),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{className:m().EventsList,children:[i&&i.map((e,t)=>(0,s.jsx)(eventitem,{id:e.id,type:e.type,payload:e.payload},e.id)),i&&0===i.length&&(0,s.jsx)("span",{children:"There are no events."})]})})},b=n(4275);function makeTypeChecker(e){return t=>!!t.type&&t.type.tabsRole===e}let N=makeTypeChecker("Tab"),g=makeTypeChecker("TabList"),j=makeTypeChecker("TabPanel");function deepMap(e,t){return c.Children.map(e,e=>null===e?null:N(e)||g(e)||j(e)?t(e):e.props&&e.props.children&&"object"==typeof e.props.children?(0,c.cloneElement)(e,Object.assign({},e.props,{children:deepMap(e.props.children,t)})):e)}function deepForEach(e,t){return c.Children.forEach(e,e=>{null!==e&&(N(e)||j(e)?t(e):e.props&&e.props.children&&"object"==typeof e.props.children&&(g(e)&&t(e),deepForEach(e.props.children,t)))})}function childrenPropType(e,t,n){let a;let s=0,i=0,o=!1,c=[],l=e[t];return deepForEach(l,e=>{g(e)&&(e.props&&e.props.children&&"object"==typeof e.props.children&&deepForEach(e.props.children,e=>c.push(e)),o&&(a=Error("Found multiple 'TabList' components inside 'Tabs'. Only one is allowed.")),o=!0),N(e)?(o&&-1!==c.indexOf(e)||(a=Error("Found a 'Tab' component outside of the 'TabList' component. 'Tab' components have to be inside the 'TabList' component.")),s++):j(e)&&i++}),a||s===i||(a=Error(`There should be an equal number of 'Tab' and 'TabPanel' in \`${n}\`. Received ${s} 'Tab' and ${i} 'TabPanel'.`)),a}var dist_clsx=function(){for(var e,t,n=0,a="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=function r(e){var t,n,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e){if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=r(e[t]))&&(a&&(a+=" "),a+=n)}else for(n in e)e[n]&&(a&&(a+=" "),a+=n)}return a}(e))&&(a&&(a+=" "),a+=t);return a};function count_getTabsCount(e){let t=0;return deepForEach(e,e=>{N(e)&&t++}),t}let y=["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName","environment","disableUpDownKeys","disableLeftRightKeys"];function isNode(e){return e&&"getAttribute"in e}function isTabNode(e){return isNode(e)&&e.getAttribute("data-rttab")}function isTabDisabled(e){return isNode(e)&&"true"===e.getAttribute("aria-disabled")}let x={className:"react-tabs",focus:!1},T={children:childrenPropType};var components_UncontrolledTabs=e=>{(0,b.checkPropTypes)(T,e,"prop","UncontrolledTabs");let t=(0,c.useRef)([]),n=(0,c.useRef)([]),s=(0,c.useRef)();function setSelected(t,n){if(t<0||t>=getTabsCount())return;let{onSelect:a,selectedIndex:s}=e;a(t,s,n)}function getNextTab(e){let t=getTabsCount();for(let n=e+1;n<t;n++)if(!isTabDisabled(getTab(n)))return n;for(let t=0;t<e;t++)if(!isTabDisabled(getTab(t)))return t;return e}function getPrevTab(e){let t=e;for(;t--;)if(!isTabDisabled(getTab(t)))return t;for(t=getTabsCount();t-- >e;)if(!isTabDisabled(getTab(t)))return t;return e}function getTabsCount(){let{children:t}=e;return count_getTabsCount(t)}function getTab(e){return t.current[`tabs-${e}`]}function handleClick(e){let t=e.target;do if(isTabFromContainer(t)){if(isTabDisabled(t))return;let n=[].slice.call(t.parentNode.children).filter(isTabNode).indexOf(t);setSelected(n,e);return}while(null!=(t=t.parentNode))}function isTabFromContainer(e){if(!isTabNode(e))return!1;let t=e.parentElement;do{if(t===s.current)return!0;if(t.getAttribute("data-rttabs"))break;t=t.parentElement}while(t);return!1}let i=Object.assign({},x,e),{className:o,domRef:l}=i,d=function(e,t){if(null==e)return{};var n={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(t.includes(a))continue;n[a]=e[a]}return n}(i,y);return c.createElement("div",Object.assign({},d,{className:dist_clsx(o),onClick:handleClick,onKeyDown:function(t){let{direction:n,disableUpDownKeys:a,disableLeftRightKeys:s}=e;if(isTabFromContainer(t.target)){let{selectedIndex:i}=e,o=!1,c=!1;("Space"===t.code||32===t.keyCode||"Enter"===t.code||13===t.keyCode)&&(o=!0,c=!1,handleClick(t)),(s||37!==t.keyCode&&"ArrowLeft"!==t.code)&&(a||38!==t.keyCode&&"ArrowUp"!==t.code)?(s||39!==t.keyCode&&"ArrowRight"!==t.code)&&(a||40!==t.keyCode&&"ArrowDown"!==t.code)?35===t.keyCode||"End"===t.code?(i=function(){let e=getTabsCount();for(;e--;)if(!isTabDisabled(getTab(e)))return e;return null}(),o=!0,c=!0):(36===t.keyCode||"Home"===t.code)&&(i=function(){let e=getTabsCount();for(let t=0;t<e;t++)if(!isTabDisabled(getTab(t)))return t;return null}(),o=!0,c=!0):(i="rtl"===n?getPrevTab(i):getNextTab(i),o=!0,c=!0):(i="rtl"===n?getNextTab(i):getPrevTab(i),o=!0,c=!0),o&&t.preventDefault(),c&&setSelected(i,t)}},ref:e=>{s.current=e,l&&l(e)},"data-rttabs":!0}),function(){let s=0,{children:i,disabledTabClassName:o,focus:l,forceRenderTabPanel:d,selectedIndex:p,selectedTabClassName:h,selectedTabPanelClassName:u,environment:f}=e;n.current=n.current||[];let m=n.current.length-getTabsCount(),_=(0,c.useId)();for(;m++<0;)n.current.push(`${_}${n.current.length}`);return deepMap(i,e=>{let i=e;if(g(e)){let s=0,d=!1;null==a&&function(e){let t=e||("undefined"!=typeof window?window:void 0);try{a=!!(void 0!==t&&t.document&&t.document.activeElement)}catch(e){a=!1}}(f);let u=f||("undefined"!=typeof window?window:void 0);a&&u&&(d=c.Children.toArray(e.props.children).filter(N).some((e,t)=>u.document.activeElement===getTab(t))),i=(0,c.cloneElement)(e,{children:deepMap(e.props.children,e=>{let a=`tabs-${s}`,i=p===s,u={tabRef:e=>{t.current[a]=e},id:n.current[s],selected:i,focus:i&&(l||d)};return h&&(u.selectedClassName=h),o&&(u.disabledClassName=o),s++,(0,c.cloneElement)(e,u)})})}else if(j(e)){let t={id:n.current[s],selected:p===s};d&&(t.forceRender=d),u&&(t.selectedClassName=u),s++,i=(0,c.cloneElement)(e,t)}return i})}())};let S=["children","defaultFocus","defaultIndex","focusTabOnClick","onSelect"],I={children:childrenPropType,onSelect:function(e,t,n,a,s){let i=e[t],o=s||t,c=null;return i&&"function"!=typeof i?c=Error(`Invalid ${a} \`${o}\` of type \`${typeof i}\` supplied to \`${n}\`, expected \`function\`.`):null!=e.selectedIndex&&null==i&&(c=Error(`The ${a} \`${o}\` is marked as required in \`${n}\`, but its value is \`undefined\` or \`null\`.
\`onSelect\` is required when \`selectedIndex\` is also set. Not doing so will make the tabs not do anything, as \`selectedIndex\` indicates that you want to handle the selected tab yourself.
If you only want to set the inital tab replace \`selectedIndex\` with \`defaultIndex\`.`)),c},selectedIndex:function(e,t,n,a,s){let i=e[t],o=s||t,c=null;if(null!=i&&"number"!=typeof i)c=Error(`Invalid ${a} \`${o}\` of type \`${typeof i}\` supplied to \`${n}\`, expected \`number\`.`);else if(null!=e.defaultIndex&&null!=i)return Error(`The ${a} \`${o}\` cannot be used together with \`defaultIndex\` in \`${n}\`.
Either remove \`${o}\` to let \`${n}\` handle the selected tab internally or remove \`defaultIndex\` to handle it yourself.`);return c}},E={defaultFocus:!1,focusTabOnClick:!0,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1,disableLeftRightKeys:!1},getModeFromProps=e=>null===e.selectedIndex?1:0,checkForIllegalModeChange=(e,t)=>{},Tabs=e=>{(0,b.checkPropTypes)(I,e,"prop","Tabs");let t=Object.assign({},E,e),{children:n,defaultFocus:a,defaultIndex:s,focusTabOnClick:i,onSelect:o}=t,l=function(e,t){if(null==e)return{};var n={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(t.includes(a))continue;n[a]=e[a]}return n}(t,S),[d,p]=(0,c.useState)(a),[h]=(0,c.useState)(getModeFromProps(l)),[u,f]=(0,c.useState)(1===h?s||0:null);if((0,c.useEffect)(()=>{p(!1)},[]),1===h){let e=count_getTabsCount(n);(0,c.useEffect)(()=>{if(null!=u){let t=Math.max(0,e-1);f(Math.min(u,t))}},[e])}checkForIllegalModeChange(l,h);let m=Object.assign({},e,l);return m.focus=d,m.onSelect=(e,t,n)=>{("function"!=typeof o||!1!==o(e,t,n))&&(i&&p(!0),1===h&&f(e))},null!=u&&(m.selectedIndex=u),delete m.defaultFocus,delete m.defaultIndex,delete m.focusTabOnClick,c.createElement(components_UncontrolledTabs,m,n)};Tabs.tabsRole="Tabs";let A=["children","className"],C={className:"react-tabs__tab-list"},TabList=e=>{let t=Object.assign({},C,e),{children:n,className:a}=t,s=function(e,t){if(null==e)return{};var n={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(t.includes(a))continue;n[a]=e[a]}return n}(t,A);return c.createElement("ul",Object.assign({},s,{className:dist_clsx(a),role:"tablist"}),n)};TabList.tabsRole="TabList";let P=["children","className","disabled","disabledClassName","focus","id","selected","selectedClassName","tabIndex","tabRef"],O="react-tabs__tab",k={className:O,disabledClassName:`${O}--disabled`,focus:!1,id:null,selected:!1,selectedClassName:`${O}--selected`},Tab=e=>{let t=(0,c.useRef)(),n=Object.assign({},k,e),{children:a,className:s,disabled:i,disabledClassName:o,focus:l,id:d,selected:p,selectedClassName:h,tabIndex:u,tabRef:f}=n,m=function(e,t){if(null==e)return{};var n={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(t.includes(a))continue;n[a]=e[a]}return n}(n,P);return(0,c.useEffect)(()=>{p&&l&&t.current.focus()},[p,l]),c.createElement("li",Object.assign({},m,{className:dist_clsx(s,{[h]:p,[o]:i}),ref:e=>{t.current=e,f&&f(e)},role:"tab",id:`tab${d}`,"aria-selected":p?"true":"false","aria-disabled":i?"true":"false","aria-controls":`panel${d}`,tabIndex:u||(p?"0":null),"data-rttab":!0}),a)};Tab.tabsRole="Tab";let D=["children","className","forceRender","id","selected","selectedClassName"],F="react-tabs__tab-panel",w={className:F,forceRender:!1,selectedClassName:`${F}--selected`},TabPanel=e=>{let t=Object.assign({},w,e),{children:n,className:a,forceRender:s,id:i,selected:o,selectedClassName:l}=t,d=function(e,t){if(null==e)return{};var n={};for(var a in e)if(({}).hasOwnProperty.call(e,a)){if(t.includes(a))continue;n[a]=e[a]}return n}(t,D);return c.createElement("div",Object.assign({},d,{className:dist_clsx(a,{[l]:o}),role:"tabpanel",id:`panel${i}`,"aria-labelledby":`tab${i}`}),s||o?n:null)};TabPanel.tabsRole="TabPanel";var R=n(9549),L=n(4624),$=n.n(L),serviceinfo=function(e){let{key:t,name:n,version:a,source:i,podName:o,nodeName:c,namespace:l,podIp:d,serviceAccount:p,healthy:h}=e;return(0,s.jsx)("div",{className:$().ServiceInfo,children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:$().header,children:[(0,s.jsx)("h4",{children:(0,s.jsx)("a",{href:i,target:"_blank",children:n})}),(0,s.jsx)("h5",{children:a})]}),(0,s.jsxs)("div",{className:$().description,children:[(0,s.jsxs)("div",{className:$().descriptionItem,children:[(0,s.jsx)("span",{children:"Pod Name:"}),o]}),(0,s.jsxs)("div",{className:$().descriptionItem,children:[(0,s.jsx)("span",{children:"Node Name:"}),c]}),(0,s.jsxs)("div",{className:$().descriptionItem,children:[(0,s.jsx)("span",{children:"Pod Namespace:"}),l]}),(0,s.jsxs)("div",{className:$().descriptionItem,children:[(0,s.jsx)("span",{children:"Pod IP:"}),d]}),(0,s.jsxs)("div",{className:$().descriptionItem,children:[(0,s.jsx)("span",{children:"Pod Service Account:"}),p]})]}),(0,s.jsxs)("div",{className:"".concat($().statusTag,"  ").concat(null!=h&&h?$().healthy:$().unhealthy),children:[null!=h&&h&&(0,s.jsx)(s.Fragment,{children:"Healthy"}),null!=h&&!h&&(0,s.jsx)(s.Fragment,{children:"Unhealthy"})]})]})})},debug=function(){let[e,t]=(0,c.useState)(!1),[n,a]=(0,c.useState)(""),[i,o]=(0,c.useState)(""),[l,d]=(0,c.useState)(""),[p,h]=(0,c.useState)(""),[u,f]=(0,c.useState)(0),m={name:"FRONTEND",podId:"N/A",podNamespace:"N/A",podNodeName:"N/A",podName:"N/A",podServiceAccount:"N/A",source:"N/A",version:"N/A",healthy:!1},_={name:"AGENDA",podId:"N/A",podNamespace:"N/A",podNodeName:"N/A",podName:"N/A",podServiceAccount:"N/A",source:"N/A",version:"N/A",healthy:!1},v={name:"C4P",podId:"N/A",podNamespace:"N/A",podNodeName:"N/A",podName:"N/A",podServiceAccount:"N/A",source:"N/A",version:"N/A",healthy:!1},b={name:"NOTIFICATIONS",podId:"N/A",podNamespace:"N/A",podNodeName:"N/A",podName:"N/A",serviceAccount:"N/A",source:"N/A",version:"N/A",healthy:!1};(0,c.useEffect)(()=>{let e=setInterval(()=>{t(!0),fetchFrontendServiceInfo(),fetchAgendaServiceInfo(),fetchC4PServiceInfo(),fetchNotificationsServiceInfo()},3e3);return()=>clearInterval(e)},[u]);let fetchFrontendServiceInfo=()=>{t(!0),console.log("Querying /api/service/info"),fetch("/api/service/info").then(e=>e.json()).then(e=>{e.Healthy=!0,a(e),t(!1)}).catch(e=>{a(m),console.log(e)})},fetchAgendaServiceInfo=()=>{t(!0),console.log("Querying /api/agenda/service/info"),fetch("/api/agenda/service/info").then(e=>e.json()).then(e=>{e.Healthy=!0,d(e),t(!1)}).catch(e=>{d(_),console.log(e)})},fetchC4PServiceInfo=()=>{t(!0),console.log("Querying /api/c4p/service/info"),fetch("/api/c4p/service/info").then(e=>e.json()).then(e=>{e.Healthy=!0,o(e),t(!1)}).catch(e=>{o(v),console.log(e)})},fetchNotificationsServiceInfo=()=>{t(!0),console.log("Querying /api/notifications/service/info"),fetch("/api/notifications/service/info").then(e=>e.json()).then(e=>{e.Healthy=!0,h(e),t(!1)}).catch(e=>{h(b),console.log(e)})};return(0,c.useEffect)(()=>{t(!0),fetchFrontendServiceInfo(),fetchAgendaServiceInfo(),fetchC4PServiceInfo(),fetchNotificationsServiceInfo()},[]),(0,s.jsxs)("div",{className:$().DebugList,children:[(0,s.jsx)(serviceinfo,{name:n.name,version:n.version,source:n.source,podIp:n.podIp,podName:n.podName,nodeName:n.podNodeName,namespace:n.podNamespace,serviceAccount:n.podServiceAccount,healthy:n.healthy},"frontend"),(0,s.jsx)(serviceinfo,{name:i.name,version:i.version,source:i.source,podName:i.podName,podIp:i.podIp,nodeName:i.podNodeName,namespace:i.podNamespace,serviceAccount:i.podServiceAccount,healthy:i.healthy},"c4p"),(0,s.jsx)(serviceinfo,{name:l.name,version:l.version,source:l.source,podIp:l.podIp,podName:l.podName,nodeName:l.podNodeName,namespace:l.podNamespace,serviceAccount:l.podServiceAccount,healthy:l.healthy},"agenda"),(0,s.jsx)(serviceinfo,{name:p.name,version:p.version,source:p.source,podIp:p.podIp,podName:p.podName,nodeName:p.podNodeName,namespace:p.podNamespace,serviceAccount:p.podServiceAccount,healthy:p.healthy},"notifications")]})};function Backoffice(){let[e,t]=(0,c.useState)(!1),[n,a]=(0,c.useState)(""),fetchFeatures=()=>{t(!0),console.log("Querying /api/features/"),fetch("/api/features/").then(e=>e.json()).then(e=>{console.log("Features Data: "+e),a(e),t(!1)}).catch(e=>{a({}),console.log(e)})};return(0,c.useEffect)(()=>{t(!0),fetchFeatures()},[]),(0,s.jsxs)("main",{className:o().main,children:[(0,s.jsx)("div",{className:"".concat(o().hero," "),children:(0,s.jsx)("div",{className:"grid content noMargin",children:(0,s.jsx)("div",{className:"col full",children:(0,s.jsx)("h3",{children:"Backoffice"})})})}),(0,s.jsx)("div",{className:"".concat(o().BackofficeContent," "),children:(0,s.jsx)("div",{className:"grid content noMargin",children:(0,s.jsx)("div",{className:"col full",children:(0,s.jsx)("div",{className:"".concat(o().tabs," "),children:(0,s.jsxs)(Tabs,{children:[(0,s.jsxs)(TabList,{children:[(0,s.jsx)(Tab,{children:"Review Proposals"}),(0,s.jsx)(Tab,{children:"Agenda Items"}),(0,s.jsx)(Tab,{children:"Notifications"}),(0,s.jsx)(Tab,{children:"Events"}),"true"==n.DebugEnabled&&(0,s.jsx)(Tab,{children:"Debug"})]}),(0,s.jsx)(TabPanel,{children:(0,s.jsx)(proposallist,{})}),(0,s.jsx)(TabPanel,{children:(0,s.jsx)(R.Z,{admin:"true"})}),(0,s.jsx)(TabPanel,{children:(0,s.jsx)(notificationlist,{})}),(0,s.jsx)(TabPanel,{children:(0,s.jsx)(eventlist,{})}),"true"==n.DebugEnabled&&(0,s.jsx)(TabPanel,{children:(0,s.jsx)(debug,{})})]})})})})})]})}},9549:function(e,t,n){"use strict";n.d(t,{Z:function(){return appointmentslist}});var a=n(7437),s=n(449),i=n.n(s),o=n(2265),c=n(128),appointmentsitem=function(e){let{key:t,id:n,departmentId:s,dateAndTime:l,patientId:d,admin:p,handleArchive:h}=e,[u,f]=(0,o.useState)(!1),handleAction=e=>{h(e)},handleOpen=()=>{u?f(!1):f(!0)};return(0,a.jsxs)("div",{onClick:()=>handleOpen(),className:"".concat(i().appointmentItem,"  ").concat(u?i().open:" "," "),children:[(0,a.jsxs)("div",{className:i().openTag,children:[!u&&(0,a.jsx)(a.Fragment,{children:"Click for details"}),u&&(0,a.jsx)(a.Fragment,{children:"Close"})]}),(0,a.jsx)("div",{className:"AppointmentItem__date",children:(0,a.jsx)("div",{className:"AppointmentItem__day",children:l})}),(0,a.jsxs)("div",{className:"AppointmentItem__data",children:[(0,a.jsx)("h4",{children:d}),(0,a.jsxs)("p",{className:"p p-s",children:[" ",d]}),(0,a.jsx)("div",{className:i().description,children:(0,a.jsx)("p",{children:s})})]}),p&&(0,a.jsx)(c.default,{clickHandler:()=>handleAction(n),children:"Archive"})]})},appointmentslist=function(e){let[t,n]=(0,o.useState)(!1),[s,c]=(0,o.useState)(""),{day:l,highlights:d,admin:p}=e,[h,u]=(0,o.useState)(!1),f=[{id:"215eecfc-ec37-4e03-85a3-219a6223d3ac",departmentId:"GP",patientId:"salaboy-123",dateAndTime:"2025-01-01T01:00:00Z"}],fetchData=()=>{console.log("Querying /appointments/appointments/"),fetch("/api/appointments/appointments/").then(e=>e.json()).then(e=>{c(e),u(!1)}).catch(e=>{c(f),console.log(e)})},handleArchive=e=>{u(!0),n(!1),console.log("Archiving Appointment Item ..."+e),fetch("/api/appointments/appointments/"+e,{method:"DELETE",headers:{accept:"application/json"}}).then(e=>e.json()).then(()=>{fetchData(),u(!1)}).catch(e=>{console.log(e),u(!1),n(!0)})};return(0,o.useEffect)(()=>{u(!0),fetchData()},[c]),(0,a.jsx)("div",{children:(0,a.jsxs)("div",{className:"".concat(i().agendaList,"  ").concat(p?i().backoffice:" "," "),children:[s&&s.length>0&&s.map((e,t)=>(0,a.jsx)(appointmentsitem,{name:e.patientId,id:e.id,departmentId:e.departmentId,patientId:e.patientId,admin:p,handleArchive:handleArchive},t)),s&&0==s.length&&(0,a.jsx)("p",{children:"There are no confirmed appointments just yet."})]})})}},128:function(e,t,n){"use strict";n.r(t);var a=n(7437),s=n(4871),i=n.n(s),o=n(1396),c=n.n(o);t.default=function(e){var t;let{children:n,link:s,external:o,inline:l,clickHandler:d,small:p,main:h,disabled:u,inverted:f}=e;return t=s?o?(0,a.jsxs)("a",{href:s,target:"_blank",children:["  ",(0,a.jsx)("span",{children:n})," "]}):(0,a.jsxs)(c(),{href:s,children:["  ",(0,a.jsx)("span",{children:n})," "]}):d?(0,a.jsxs)(c(),{className:"__container",href:"#",onClick:d,children:[" ",(0,a.jsx)("span",{children:n}),"  "]}):(0,a.jsxs)(c(),{href:"#",className:"__container",children:["  ",(0,a.jsx)("span",{children:n})," "]}),(0,a.jsx)("div",{className:i().button,children:t})}},4871:function(e){e.exports={button:"button_button__zBiTp"}},449:function(e){e.exports={main:"appointment_main__0LGQ_",hero:"appointment_hero__cO_LV",agendaList:"appointment_agendaList__FGKEM",backoffice:"appointment_backoffice__EV_UG",agendaItem:"appointment_agendaItem__RwExz",open:"appointment_open__ZVicO",openTag:"appointment_openTag__k09Ou",description:"appointment_description__PPKCF"}},2013:function(e){e.exports={main:"backoffice_main__51xWt",hero:"backoffice_hero__Hwfjd",BackofficeContent:"backoffice_BackofficeContent__XwxMo",tabs:"backoffice_tabs__TzmKF"}},4624:function(e){e.exports={DebugList:"debug_DebugList__YiFgj",ServiceInfo:"debug_ServiceInfo__m5KK2",statusTag:"debug_statusTag__ulkHD",healthy:"debug_healthy__crQbC",unhealthy:"debug_unhealthy__Glymt",header:"debug_header__T5iow",description:"debug_description__JuDKU",descriptionItem:"debug_descriptionItem__8cqY0"}},582:function(e){e.exports={EventsList:"events_EventsList__H1Y8V",EventItem:"events_EventItem__Jg_Cn",openTag:"events_openTag__tx1uO",header:"events_header__K3j9x",description:"events_description__IXpCv",open:"events_open__wCFok",codeContainer:"events_codeContainer__qSoh1"}},7558:function(e){e.exports={NotificationList:"notifications_NotificationList__j7E8c",NotificationItem:"notifications_NotificationItem__c2qkm",openTag:"notifications_openTag__S2TAb",header:"notifications_header__sFwWB",headerStatusTag:"notifications_headerStatusTag__XEkpW",approved:"notifications_approved__bFPWf",rejected:"notifications_rejected__A3PZL",description:"notifications_description__qSiGy",open:"notifications_open__dTwzw",descriptionTo:"notifications_descriptionTo__KhoKb",descriptionSubject:"notifications_descriptionSubject__YZwvH",descriptionBody:"notifications_descriptionBody__meYnW"}},3754:function(e){e.exports={main:"proposals_main__USy0x",hero:"proposals_hero__FIct1",ProposalList_Filters:"proposals_ProposalList_Filters__fv6zt",filterLabel:"proposals_filterLabel__i_cn3",filter:"proposals_filter__sP5Xo",inactive:"proposals_inactive__3_zuB",container:"proposals_container__IC4TY",ProposalList_Items:"proposals_ProposalList_Items__WFCAB",ProposalItem:"proposals_ProposalItem__SanIB",status:"proposals_status__lgADm",actions:"proposals_actions__5EjR_",description:"proposals_description__eQArS",pending:"proposals_pending__Q9fqt",archived:"proposals_archived__DyZj0",statusTag:"proposals_statusTag__smILf",approved:"proposals_approved__z7Yx5",rejected:"proposals_rejected__kkWbX"}},3018:function(e,t,n){"use strict";var a=n(1289);function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction,e.exports=function(){function shim(e,t,n,s,i,o){if(o!==a){var c=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function getShim(){return shim}shim.isRequired=shim;var e={array:shim,bigint:shim,bool:shim,func:shim,number:shim,object:shim,string:shim,symbol:shim,any:shim,arrayOf:getShim,element:shim,elementType:shim,instanceOf:getShim,node:shim,objectOf:getShim,oneOf:getShim,oneOfType:getShim,shape:getShim,exact:getShim,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return e.PropTypes=e,e}},4275:function(e,t,n){e.exports=n(3018)()},1289:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},3604:function(e,t,n){"use strict";var a,s=this&&this.__extends||(a=function(e,t){return(a=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function __(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(__.prototype=t.prototype,new __)}),i=this&&this.__assign||function(){return(i=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)},o=this&&this.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(n[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>t.indexOf(a[s])&&(n[a[s]]=e[a[s]]);return n},c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t},l=c(n(4275)),d=c(n(2265));function getStyle(e,t,n){var a,s,i=(a=n[e+"Style"]||"",s=t&&t[e]||"",a?a+";"+s:s);return i?' style="'+i+'"':""}var p={'"':"&quot;","'":"&apos;","&":"&amp;",">":"&gt;","<":"&lt"},h=function(e){function JSONPretty(){return null!==e&&e.apply(this,arguments)||this}return s(JSONPretty,e),JSONPretty.prototype.render=function(){var e,t=this.props,n=t.json,a=t.data,s=t.replacer,c=t.space,l=t.themeClassName,h=t.theme,u=t.onJSONPrettyError,f=t.onError,m=t.silent,_=t.mainStyle,v=t.keyStyle,b=t.valueStyle,N=t.stringStyle,g=t.booleanStyle,j=t.errorStyle,y=o(t,["json","data","replacer","space","themeClassName","theme","onJSONPrettyError","onError","silent","mainStyle","keyStyle","valueStyle","stringStyle","booleanStyle","errorStyle"]),x={mainStyle:_,keyStyle:v,valueStyle:b,stringStyle:N,booleanStyle:g,errorStyle:j},T=a||n;if("string"==typeof T)try{T=JSON.parse(T)}catch(t){return m||console.warn("[react-json-pretty]: "+t.message),u&&u(t),!u&&f&&(f(t),console.warn("JSONPretty#onError is deprecated, please use JSONPretty#onJSONPrettyError instead")),d.createElement("div",i({},y,{dangerouslySetInnerHTML:{__html:'<pre class="__json-pretty-error__"'+getStyle("error",h,x)+">"+((e=T)?e.replace(/<|>|&|"|'/g,function(e){return p[e]}):e)+"</pre>"}}))}return d.createElement("div",i({},y,{dangerouslySetInnerHTML:{__html:'<pre class="'+l+'"'+getStyle("main",h,x)+">"+this._pretty(h,T,s,+c,x)+"</pre>"}}))},JSONPretty.prototype._pretty=function(e,t,n,a,s){var i=JSON.stringify(t,"function"==typeof n?n:null,isNaN(a)?2:a);return i?i.replace(/&/g,"&amp;").replace(/\\"([^,])/g,"\\&quot;$1").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/^( *)("[^"]+": )?("[^"]*"|[\w.+-]*)?([,[{]|\[\s*\],?|\{\s*\},?)?$/mg,this._replace.bind(null,e,s)):i},JSONPretty.prototype._replace=function(e,t,n,a,s,i,o){var c="</span>",l='<span class="__json-key__"'+getStyle("key",e,t)+">",d='<span class="__json-value__"'+getStyle("value",e,t)+">",p='<span class="__json-string__"'+getStyle("string",e,t)+">",h='<span class="__json-boolean__"'+getStyle("boolean",e,t)+">",u=a||"";return s&&(u=u+'"'+l+s.replace(/^"|":\s$/g,"")+c+'": '),i&&(u="true"===i||"false"===i?u+h+i+c:u+('"'===i[0]?p:d)+i+c),u+(o||"")},JSONPretty.propTypes={data:l.any,json:l.any,replacer:l.func,silent:l.bool,space:l.oneOfType([l.number,l.string]),theme:l.object,themeClassName:l.string,onJSONPrettyError:l.func},JSONPretty.defaultProps={data:"",json:"",silent:!0,space:2,themeClassName:"__json-pretty__"},JSONPretty}(d.Component);e.exports=h}},function(e){e.O(0,[176,971,472,744],function(){return e(e.s=1001)}),_N_E=e.O()}]);